language: java
services:
  - postgresql

before_script:
   - psql -f /target/sql/init_test_env.sql -U postgres

  #- psql -c "CREATE DATABASE testing_db;" -U postgres
  #- psql -d testing_db -c "CREATE TABLE testing_db.public.test_table (id SERIAL PRIMARY KEY, comment VARCHAR);" -U postgres
  #- psql -d testing_db -c "CREATE UNIQUE INDEX test_table_id_uindex ON testing_db.public.test_table (id);" -U   - echo "Before scripting phase"
  - echo -e "\033[42mTest DB with user\\=foo and password\\=bar was succesfully created"

script:
 - mvn clean package

after_script:
 - echo -e "\033[42mScript finished"

after_success:
 - echo -e "\033[42mBuild was successful. $TRAVIS_TEST_RESULT"

after_failure:
 - echo "Build was failed"

